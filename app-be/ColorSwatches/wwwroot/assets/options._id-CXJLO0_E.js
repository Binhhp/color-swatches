import{a as c,r as S,j as t,f as X,h as Y}from"./index-CpdABxmx.js";import{m as Z,c as F,v as G,I as ee,n as te,o as ae,b as le,T as m,p as se,j as ne,k as j,B as L,P as ie,i as ce,e as E,A as re,q as oe,U as de,s as ue}from"./index-C1fLQq2r.js";var me={Divider:"Polaris-Divider"};const A=({borderColor:e="border-secondary",borderWidth:a="025"})=>{const l=e==="transparent"?e:`var(--p-color-${e})`;return c.createElement("hr",{className:me.Divider,style:{borderBlockStart:`var(--p-border-width-${a}) solid ${l}`}})};var o={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const _="";function T({options:e,label:a,labelAction:l,labelHidden:s,labelInline:i,disabled:r,helpText:p,placeholder:d,id:v,name:x,value:g=_,error:u,onChange:h,onFocus:n,onBlur:y,requiredIndicator:k,tone:C}){const{value:z,toggle:P}=Z(!1),$=S.useId(),b=v??$,H=i?!0:s,R=F(o.Select,u&&o.error,C&&o[G("tone",C)],r&&o.disabled),V=S.useCallback(f=>{P(),n==null||n(f)},[n,P]),q=S.useCallback(f=>{P(),y==null||y(f)},[y,P]),U=h?f=>h(f.currentTarget.value,b):void 0,w=[];p&&w.push(se(b)),u&&w.push(`${b}Error`);let I=(e||[]).map(pe);d&&(I=[{label:d,value:_,disabled:!0},...I]);const K=i&&c.createElement(le,{paddingInlineEnd:"100"},c.createElement(m,{as:"span",variant:"bodyMd",tone:C&&C==="magic"&&!z?"magic-subdued":"subdued",truncate:!0},a)),N=ve(I,g),J=N.prefix&&c.createElement("div",{className:o.Prefix},N.prefix),Q=c.createElement("div",{className:o.Content,"aria-hidden":!0,"aria-disabled":r},K,J,c.createElement("span",{className:o.SelectedOption},N.label),c.createElement("span",{className:o.Icon},c.createElement(ee,{source:te}))),W=I.map(ge);return c.createElement(ae,{id:b,label:a,error:u,action:l,labelHidden:H,helpText:p,requiredIndicator:k,disabled:r},c.createElement("div",{className:R},c.createElement("select",{id:b,name:x,value:g,className:o.Input,disabled:r,onFocus:V,onBlur:q,onChange:U,"aria-invalid":!!u,"aria-describedby":w.length?w.join(" "):void 0,"aria-required":k},W),Q,c.createElement("div",{className:o.Backdrop})))}function M(e){return typeof e=="string"}function O(e){return typeof e=="object"&&"options"in e&&e.options!=null}function B(e){return{label:e,value:e}}function pe(e){if(M(e))return B(e);if(O(e)){const{title:a,options:l}=e;return{title:a,options:l.map(s=>M(s)?B(s):s)}}return e}function ve(e,a){const l=xe(e);let s=l.find(i=>a===i.value);return s===void 0&&(s=l.find(i=>!i.hidden)),s||{value:"",label:""}}function xe(e){let a=[];return e.forEach(l=>{O(l)?a=a.concat(l.options):a.push(l)}),a}function D(e){const{value:a,label:l,prefix:s,key:i,...r}=e;return c.createElement("option",Object.assign({key:i??a,value:a},r),l)}function ge(e){if(O(e)){const{title:a,options:l}=e;return c.createElement("optgroup",{label:a,key:a},l.map(D))}return D(e)}const he=()=>t.jsx("span",{role:"img","aria-label":"preview",children:"🖼️"}),be=({values:e})=>{const a=[{title:"Value"},{title:"Preview"},{title:""}];return t.jsx(ne,{children:t.jsx(j,{resourceName:{singular:"value",plural:"values"},itemCount:(e==null?void 0:e.length)??0,selectable:!0,headings:a,children:(e||[]).map((l,s)=>t.jsxs(j.Row,{id:l.value+s,rowType:"data",position:s,children:[t.jsx(j.Cell,{className:"text-center",children:t.jsx(m,{as:"span",children:l.value})}),t.jsx(j.Cell,{className:"text-center",children:t.jsx(he,{})}),t.jsx(j.Cell,{className:"text-center",children:t.jsx(L,{size:"slim",variant:"tertiary",children:"Customize"})})]},l.value+s))})})},fe={"home-page":"Home page","collection-page":"Collection page","product-page":"Product page"},je=({option:e,setOption:a})=>{var g,u,h;const l=[{label:"Swatch",value:"Swatch",options:[{label:"Color",value:"Color"},{label:"Image",value:"Image"}]},{label:"Button",value:"Button",options:[{label:"Text",value:"Text"},{label:"Image and text",value:"ImageText"}]},{label:"Dropdown",value:"Dropdown",options:[{label:"Color and text",value:"ColorText"},{label:"Image and text",value:"ImageText"}]}],s=["product-page","collection-page","home-page"],i=()=>{e&&a({...e,isActive:!(e!=null&&e.isActive)})},r=X(),p=()=>{r({to:de.KeepParameters("/")})},d=n=>{a({...e,template:n})},v=n=>{a({...e,style:n})},x=((g=l.find(n=>n.value===((e==null?void 0:e.template)??"Swatch")))==null?void 0:g.options)??[];return t.jsxs(ie,{backAction:{content:(e==null?void 0:e.name)||"Option",onAction:p},title:(e==null?void 0:e.name)||"Option",subtitle:`${((u=e==null?void 0:e.values)==null?void 0:u.length)??0} value`,children:[!e&&t.jsx(ce,{lines:8}),e&&t.jsxs(E,{gap:"400",children:[t.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[t.jsxs(E,{gap:"200",children:[t.jsx(m,{variant:"headingMd",as:"h3",children:"Active widget to display your swatches"}),t.jsx(m,{variant:"bodyMd",as:"span",tone:"subdued",children:"Allow widget to display on the page you want"})]}),t.jsx("div",{className:"option-active",children:t.jsx(re,{title:"Active widget",action:{content:e.isActive?"Inactive":"Active",onAction:i},details:"Allow widget to display on the page you want"})})]}),t.jsx("div",{className:"mt-8 mb-8",children:t.jsx(A,{borderColor:"border"})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(E,{gap:"200",children:[t.jsx(m,{variant:"headingMd",as:"h3",children:"Setting"}),t.jsx(m,{variant:"bodyMd",as:"span",tone:"subdued",children:"Setting layout, active template and choose page to display"})]}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-row gap-5 option-setting-template",children:[t.jsx(T,{label:"Template",options:l.map(n=>({label:n.label,value:n.value})),value:e.template??"Swatch",onChange:d}),t.jsx(T,{label:"Style",options:x,value:((h=x[0])==null?void 0:h.value)??"Color",onChange:v}),t.jsx(L,{size:"medium",children:"Customize"})]}),t.jsxs("div",{className:"flex flex-col gap-3.5",children:[t.jsx(m,{variant:"bodyMd",as:"span",tone:"subdued",children:"Position"}),t.jsx("div",{className:"flex flex-row gap-10",children:s.map(n=>t.jsx(oe,{label:fe[n],checked:e.position.includes(n)},n))})]})]})]}),t.jsx("div",{className:"mt-8 mb-8",children:t.jsx(A,{borderColor:"border"})}),t.jsx(be,{values:e.values||[]})]})]})},Pe=function(){const{id:a}=Y.useParams(),[l,s]=S.useState(void 0),{getOptionById:i,getOptionSettings:r}=ue();S.useEffect(()=>{(async()=>{const v=i(a);if(v)s(v);else{await r();const x=i(a);s(x)}})()},[a,i,r]);const p=d=>{l&&s({...l,...d})};return t.jsx(je,{option:l,setOption:p})};export{Pe as component};
