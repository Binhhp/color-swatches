import{e as d,s as Ne,r as v,c as Ee,v as Oe,I as ge,t as Me,g as Ae,T as N,j as a,B as R,f as Ie,M as ne,b as pe,w as Pe}from"./index-BZHcMcxc.js";import{L as Re,h as Le,T as V,c as Te,P as Be,b as F,U as be}from"./uri-provider-Dxmbjys6.js";import{L as ze,I as T,t as J,S as De,C as He,p as $e,s as Ve}from"./template-CLAp3i7g.js";import{C as W,A as Ke}from"./AccountConnection-CX0beqiS.js";var xe=function(t){return d.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),d.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};xe.displayName="PlusIcon";var Ce=function(t){return d.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),d.createElement("path",{d:"M16.5 6.26a.75.75 0 0 1-1.5 0v-.51a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.51a.75.75 0 0 1-1.5 0v-.51a2.25 2.25 0 0 1 2.25-2.25h8.5a2.25 2.25 0 0 1 2.25 2.25v.51Z"}),d.createElement("path",{d:"M10.75 16.01a.75.75 0 0 1-1.5 0v-6.69l-1.72 1.72a.75.75 0 1 1-1.06-1.06l3-3a.75.75 0 0 1 1.06 0l3 3a.75.75 0 1 1-1.06 1.06l-1.72-1.72v6.69Z"}))};Ce.displayName="UploadIcon";var Ue={Divider:"Polaris-Divider"};const se=({borderColor:e="border-secondary",borderWidth:t="025"})=>{const r=e==="transparent"?e:`var(--p-color-${e})`;return d.createElement("hr",{className:Ue.Divider,style:{borderBlockStart:`var(--p-border-width-${t}) solid ${r}`}})};var O={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const le="";function q({options:e,label:t,labelAction:r,labelHidden:n,labelInline:s,disabled:o,helpText:c,placeholder:u,id:g,name:h,value:x=le,error:y,onChange:S,onFocus:C,onBlur:k,requiredIndicator:b,tone:l}){const{value:i,toggle:p}=Ne(!1),_=v.useId(),j=g??_,E=s?!0:n,A=Ee(O.Select,y&&O.error,l&&O[Oe("tone",l)],o&&O.disabled),Y=v.useCallback(L=>{p(),C==null||C(L)},[C,p]),D=v.useCallback(L=>{p(),k==null||k(L)},[k,p]),H=S?L=>S(L.currentTarget.value,j):void 0,I=[];c&&I.push(Le(j)),y&&I.push(`${j}Error`);let P=(e||[]).map(qe);u&&(P=[{label:u,value:le,disabled:!0},...P]);const $=s&&d.createElement(Ae,{paddingInlineEnd:"100"},d.createElement(N,{as:"span",variant:"bodyMd",tone:l&&l==="magic"&&!i?"magic-subdued":"subdued",truncate:!0},t)),f=Xe(P,x),m=f.prefix&&d.createElement("div",{className:O.Prefix},f.prefix),M=d.createElement("div",{className:O.Content,"aria-hidden":!0,"aria-disabled":o},$,m,d.createElement("span",{className:O.SelectedOption},f.label),d.createElement("span",{className:O.Icon},d.createElement(ge,{source:Me}))),_e=P.map(Ze);return d.createElement(Re,{id:j,label:t,error:y,action:r,labelHidden:E,helpText:c,requiredIndicator:b,disabled:o},d.createElement("div",{className:A},d.createElement("select",{id:j,name:h,value:x,className:O.Input,disabled:o,onFocus:Y,onBlur:D,onChange:H,"aria-invalid":!!y,"aria-describedby":I.length?I.join(" "):void 0,"aria-required":b},_e),M,d.createElement("div",{className:O.Backdrop})))}function oe(e){return typeof e=="string"}function re(e){return typeof e=="object"&&"options"in e&&e.options!=null}function ie(e){return{label:e,value:e}}function qe(e){if(oe(e))return ie(e);if(re(e)){const{title:t,options:r}=e;return{title:t,options:r.map(n=>oe(n)?ie(n):n)}}return e}function Xe(e,t){const r=Ye(e);let n=r.find(s=>t===s.value);return n===void 0&&(n=r.find(s=>!s.hidden)),n||{value:"",label:""}}function Ye(e){let t=[];return e.forEach(r=>{re(r)?t=t.concat(r.options):t.push(r)}),t}function ce(e){const{value:t,label:r,prefix:n,key:s,...o}=e;return d.createElement("option",Object.assign({key:s??t,value:t},o),r)}function Ze(e){if(re(e)){const{title:t,options:r}=e;return d.createElement("optgroup",{label:t,key:t},r.map(ce))}return ce(e)}const Fe=new Proxy({},{get(e,t){throw Error(`shopify.${String(t)} can't be used in a server environment. You likely need to move this code into an Effect.`)}});function We(){if(typeof window>"u")return Fe;if(!window.shopify)throw Error("The shopify global is not defined. This likely means the App Bridge script tag was not added correctly to this page");return window.shopify}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ye(e,t){if(e==null)return{};var r,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(s[r]=e[r]);return s}function Q(e){var t=v.useRef(e),r=v.useRef(function(n){t.current&&t.current(n)});return t.current=e,r.current}var z=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e<t?t:e},B=function(e){return"touches"in e},G=function(e){return e&&e.ownerDocument.defaultView||self},ue=function(e,t,r){var n=e.getBoundingClientRect(),s=B(t)?function(o,c){for(var u=0;u<o.length;u++)if(o[u].identifier===c)return o[u];return o[0]}(t.touches,r):t;return{left:z((s.pageX-(n.left+G(e).pageXOffset))/n.width),top:z((s.pageY-(n.top+G(e).pageYOffset))/n.height)}},de=function(e){!B(e)&&e.preventDefault()},je=d.memo(function(e){var t=e.onMove,r=e.onKey,n=ye(e,["onMove","onKey"]),s=v.useRef(null),o=Q(t),c=Q(r),u=v.useRef(null),g=v.useRef(!1),h=v.useMemo(function(){var C=function(l){de(l),(B(l)?l.touches.length>0:l.buttons>0)&&s.current?o(ue(s.current,l,u.current)):b(!1)},k=function(){return b(!1)};function b(l){var i=g.current,p=G(s.current),_=l?p.addEventListener:p.removeEventListener;_(i?"touchmove":"mousemove",C),_(i?"touchend":"mouseup",k)}return[function(l){var i=l.nativeEvent,p=s.current;if(p&&(de(i),!function(j,E){return E&&!B(j)}(i,g.current)&&p)){if(B(i)){g.current=!0;var _=i.changedTouches||[];_.length&&(u.current=_[0].identifier)}p.focus(),o(ue(p,i,u.current)),b(!0)}},function(l){var i=l.which||l.keyCode;i<37||i>40||(l.preventDefault(),c({left:i===39?.05:i===37?-.05:0,top:i===40?.05:i===38?-.05:0}))},b]},[c,o]),x=h[0],y=h[1],S=h[2];return v.useEffect(function(){return S},[S]),d.createElement("div",X({},n,{onTouchStart:x,onMouseDown:x,className:"react-colorful__interactive",ref:s,onKeyDown:y,tabIndex:0,role:"slider"}))}),ae=function(e){return e.filter(Boolean).join(" ")},we=function(e){var t=e.color,r=e.left,n=e.top,s=n===void 0?.5:n,o=ae(["react-colorful__pointer",e.className]);return d.createElement("div",{className:o,style:{top:100*s+"%",left:100*r+"%"}},d.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},w=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r},Je=function(e){return rt(ee(e))},ee=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?w(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?w(parseInt(e.substring(6,8),16)/255,2):1}},Qe=function(e){return tt(et(e))},Ge=function(e){var t=e.s,r=e.v,n=e.a,s=(200-t)*r/100;return{h:w(e.h),s:w(s>0&&s<200?t*r/100/(s<=100?s:200-s)*100:0),l:w(s/2),a:w(n,2)}},te=function(e){var t=Ge(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},et=function(e){var t=e.h,r=e.s,n=e.v,s=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),c=n*(1-r),u=n*(1-(t-o)*r),g=n*(1-(1-t+o)*r),h=o%6;return{r:w(255*[n,u,c,c,g,n][h]),g:w(255*[g,n,n,u,c,c][h]),b:w(255*[c,c,g,n,n,u][h]),a:w(s,2)}},K=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},tt=function(e){var t=e.r,r=e.g,n=e.b,s=e.a,o=s<1?K(w(255*s)):"";return"#"+K(t)+K(r)+K(n)+o},rt=function(e){var t=e.r,r=e.g,n=e.b,s=e.a,o=Math.max(t,r,n),c=o-Math.min(t,r,n),u=c?o===t?(r-n)/c:o===r?2+(n-t)/c:4+(t-r)/c:0;return{h:w(60*(u<0?u+6:u)),s:w(o?c/o*100:0),v:w(o/255*100),a:s}},at=d.memo(function(e){var t=e.hue,r=e.onChange,n=ae(["react-colorful__hue",e.className]);return d.createElement("div",{className:n},d.createElement(je,{onMove:function(s){r({h:360*s.left})},onKey:function(s){r({h:z(t+360*s.left,0,360)})},"aria-label":"Hue","aria-valuenow":w(t),"aria-valuemax":"360","aria-valuemin":"0"},d.createElement(we,{className:"react-colorful__hue-pointer",left:t/360,color:te({h:t,s:100,v:100,a:1})})))}),nt=d.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:te({h:t.h,s:100,v:100,a:1})};return d.createElement("div",{className:"react-colorful__saturation",style:n},d.createElement(je,{onMove:function(s){r({s:100*s.left,v:100-100*s.top})},onKey:function(s){r({s:z(t.s+100*s.left,0,100),v:z(t.v-100*s.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+w(t.s)+"%, Brightness "+w(t.v)+"%"},d.createElement(we,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:te(t)})))}),Se=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},st=function(e,t){return e.toLowerCase()===t.toLowerCase()||Se(ee(e),ee(t))};function lt(e,t,r){var n=Q(r),s=v.useState(function(){return e.toHsva(t)}),o=s[0],c=s[1],u=v.useRef({color:t,hsva:o});v.useEffect(function(){if(!e.equal(t,u.current.color)){var h=e.toHsva(t);u.current={hsva:h,color:t},c(h)}},[t,e]),v.useEffect(function(){var h;Se(o,u.current.hsva)||e.equal(h=e.fromHsva(o),u.current.color)||(u.current={hsva:o,color:h},n(h))},[o,e,n]);var g=v.useCallback(function(h){c(function(x){return Object.assign({},x,h)})},[]);return[o,g]}var ot=typeof window<"u"?v.useLayoutEffect:v.useEffect,it=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},fe=new Map,ct=function(e){ot(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!fe.has(t)){var r=t.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,fe.set(t,r);var n=it();n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},ut=function(e){var t=e.className,r=e.colorModel,n=e.color,s=n===void 0?r.defaultColor:n,o=e.onChange,c=ye(e,["className","colorModel","color","onChange"]),u=v.useRef(null);ct(u);var g=lt(r,s,o),h=g[0],x=g[1],y=ae(["react-colorful",t]);return d.createElement("div",X({},c,{ref:u,className:y}),d.createElement(nt,{hsva:h,onChange:x}),d.createElement(at,{hue:h.h,onChange:x,className:"react-colorful__last-control"}))},dt={defaultColor:"000",toHsva:Je,fromHsva:function(e){return Qe({h:e.h,s:e.s,v:e.v,a:1})},equal:st},ke=function(e){return d.createElement(ut,X({},e,{colorModel:dt}))};const ft=({option:e,setOption:t})=>{var C,k,b;const r=l=>l.style.includes("Image")?a.jsx("img",{src:l.image}):a.jsx("div",{className:"option-setting-preview flex pt-1 pb-1",children:a.jsx("div",{className:"border-gray-300 border-1 rounded-md flex flex-col",style:{width:"var(--p-width-800)",height:"var(--p-height-800)",borderRadius:"var(--p-border-radius-200)"},children:l.color.split(",").map((i,p)=>a.jsx("div",{style:{width:"100%",height:`${100/l.color.split(",").length}%`,background:i,borderTopRightRadius:p===0?"var(--p-border-radius-200)":"0px",borderTopLeftRadius:p===0?"var(--p-border-radius-200)":"0px",borderBottomRightRadius:p===l.color.split(",").length-1?"var(--p-border-radius-200)":"0px",borderBottomLeftRadius:p===l.color.split(",").length-1?"var(--p-border-radius-200)":"0px"}},`color-${p}`))})}),[n,s]=v.useState(0),[o,c]=v.useState(!1),u=(l,i)=>{if(e.values&&e.values[l]){const _=e.values[l].color.split(",").filter((E,A)=>A!==i),j=e.values.map((E,A)=>A===l?{...E,color:_.join(",")}:E);t({...e,values:j})}},g=(l,i)=>{if(l.style.includes("Image"))return a.jsx("div",{className:"option-setting-upload flex justify-center",children:a.jsx(R,{icon:Ce,size:"large",variant:"tertiary",accessibilityLabel:"Upload"})});const p=l.color.split(",");return a.jsxs("div",{className:"option-setting-upload relative flex justify-center gap-2 items-center",children:[l.color&&p.map((_,j)=>a.jsxs("div",{className:"relative group",style:{width:"var(--p-width-800)",height:"var(--p-height-800)"},children:[a.jsx("button",{className:"border-gray-300 border-1 w-full h-full",style:{background:_,borderRadius:"var(--p-border-radius-200)"}}),a.jsx("div",{className:"absolute -top-1 -right-1 rounded-full w-4 h-4 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-amber-50 hover:bg-amber-50",onClick:()=>u(i,j),children:a.jsx(ge,{source:Ie})})]},`color-${j}`)),p.length<5&&a.jsx("div",{className:"flex justify-center ml-1.5",children:a.jsx(R,{onClick:()=>{s(i),c(!0)},icon:xe,size:"large",variant:"tertiary",accessibilityLabel:"Add"})})]})},[h,x]=v.useState(""),y=()=>{const l=h;if(e.values&&e.values[n]){const p=[...e.values[n].color?e.values[n].color.split(","):[],l],_=e.values.map((j,E)=>E===n?{...j,color:p.join(",")}:j);t({...e,values:_})}c(!1)},S=[{title:"Value"},{title:(C=e.style)!=null&&C.includes("Color")?"Status":"Preview"},{title:""}];return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`absolute pt-2 border-gray-300 border-1 rounded-md flex flex-col pl-2 pr-2 ${o?"block":"hidden"}`,style:{bottom:"70px",right:"20px",zIndex:1e3,background:"var(--p-color-bg-fill)"},children:[a.jsx(ke,{color:h,onChange:l=>{x(l)}}),a.jsxs("div",{className:"flex justify-end gap-1 pt-2 pb-2",children:[a.jsx(R,{onClick:()=>c(!1),variant:"tertiary",children:"Cancel"}),a.jsx(R,{variant:"tertiary",onClick:y,children:"Add"})]})]}),a.jsx(ze,{children:a.jsx(T,{resourceName:{singular:"value",plural:"values"},itemCount:((k=e.values)==null?void 0:k.length)??0,selectable:!0,headings:S,children:(b=e.values)==null?void 0:b.map((l,i)=>a.jsxs(T.Row,{id:l.value+i,rowType:"data",position:i,children:[a.jsx(T.Cell,{className:"text-start",children:a.jsx(N,{as:"span",children:l.value})}),a.jsx(T.Cell,{className:"text-start",children:a.jsx("div",{className:"option-setting-preview",children:r(l)})}),a.jsx(T.Cell,{className:"text-start max-w-17",children:g(l,i)})]},l.value+i))})})]})},he={defaultColor:"Default color",selectedColor:"Selected color",hoverColor:"Hover color",strikeColor:"Strike color"},U=(e,t)=>{var r,n;return e==="strikeColor"?((r=t==null?void 0:t.animation)==null?void 0:r.strikeColor)??"#D9D9D9":((n=t==null?void 0:t.appearance)==null?void 0:n[e])??"#D9D9D9"},ve=({color:e,onClick:t})=>a.jsx("div",{onClick:t,className:"w-6 h-6 rounded-full relative border border-gray-300 cursor-pointer",style:{background:e}}),me=({color:e,onChange:t,open:r,onClose:n,left:s=0,top:o=0})=>a.jsx("div",{onMouseLeave:n,className:"absolute z-50 pb-2 pt-2 pl-2 pr-2 bg-white rounded-md border border-gray-200",style:{display:r?"block":"none",left:s,top:o},children:a.jsx(ke,{style:{height:"150px"},color:e,onChange:t})}),ht=({open:e,onClose:t,option:r,setOption:n})=>{var D,H,I,Z,P,$;const[s,o]=v.useState({height:((D=r==null?void 0:r.appearance)==null?void 0:D.height)??"50",width:((H=r==null?void 0:r.appearance)==null?void 0:H.width)??"50",borderRadius:((I=r==null?void 0:r.appearance)==null?void 0:I.borderRadius)??"8",spacing:((Z=r==null?void 0:r.appearance)==null?void 0:Z.spacing)??"10",defaultColor:U("defaultColor",r),selectedColor:U("selectedColor",r),hoverColor:U("hoverColor",r)}),[c,u]=v.useState({hoverAnimation:((P=r==null?void 0:r.animation)==null?void 0:P.hoverAnimation)??"label",outOfStock:(($=r==null?void 0:r.animation)==null?void 0:$.outOfStock)??"strike-out",strikeColor:U("strikeColor",r)}),[g,h]=v.useState(null),[x,y]=v.useState(null),S=(f,m)=>{f==="strikeColor"?u(M=>({...M,strikeColor:m})):o(M=>({...M,[f]:m}))},C=["defaultColor","selectedColor","hoverColor"],k=()=>a.jsxs("div",{className:"relative",children:[g&&a.jsx(me,{color:s[g],onChange:f=>S(g,f),open:g!==null,onClose:()=>h(null),left:C.indexOf(g)*150+10,top:10}),a.jsxs(W,{children:[a.jsx(N,{variant:"headingMd",as:"h3",children:"Appearance"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsx(V,{label:"Height",autoComplete:"off",type:"number",value:s.height,onChange:f=>o(m=>({...m,height:f}))}),a.jsx(V,{label:"Width",autoComplete:"off",type:"number",value:s.width,onChange:f=>o(m=>({...m,width:f}))}),a.jsx(V,{label:"Border radius",autoComplete:"off",type:"number",value:s.borderRadius,onChange:f=>o(m=>({...m,borderRadius:f}))}),a.jsx(V,{label:"Spacing",autoComplete:"off",type:"number",value:s.spacing,onChange:f=>o(m=>({...m,spacing:f}))})]}),a.jsx("div",{className:"flex gap-4 mt-4",children:C.map((f,m)=>a.jsxs("div",{className:"flex gap-2.5 items-center relative",style:{flex:1},children:[a.jsx(ve,{color:s[f],onClick:()=>{if(f===g){h(null);return}h(f)}}),a.jsx(N,{variant:"bodyMd",as:"span",children:he[f]})]},f+m))})]})]}),[b,l]=v.useState(!1),i=()=>a.jsxs("div",{className:"relative",children:[a.jsx(me,{color:c.strikeColor,onChange:f=>S("strikeColor",f),open:b,onClose:()=>l(!1),left:10,top:-60}),a.jsxs(W,{children:[a.jsx(N,{variant:"headingMd",as:"h3",children:"Animation"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsx(q,{label:"Hover animation",options:[{label:"Label",value:"label"},{label:"Image",value:"image"}],value:c.hoverAnimation,onChange:f=>u(m=>({...m,hoverAnimation:f}))}),a.jsx(q,{label:"Out of stock",options:[{label:"Strike-out",value:"strike-out"},{label:"Basic Ribbon",value:"ribbon"}],value:c.outOfStock,onChange:f=>u(m=>({...m,outOfStock:f}))})]}),a.jsxs("div",{className:"flex gap-2.5 mt-4 items-center relative",children:[a.jsx(ve,{color:c.strikeColor??{hue:0,saturation:0,brightness:0},onClick:()=>l(!b)}),a.jsx(N,{variant:"bodyMd",as:"span",children:he.strikeColor})]})]})]}),[p,_]=v.useState(0),j=(f,m)=>p===m?s.selectedColor:x===m?s.hoverColor:f,E=()=>{var f,m,M;return c.hoverAnimation==="label"||!((f=r==null?void 0:r.values[0])!=null&&f.image)?(m=r==null?void 0:r.values[0])==null?void 0:m.value:a.jsx("img",{src:(M=r==null?void 0:r.values[0])==null?void 0:M.image})},A=()=>a.jsxs(W,{children:[a.jsx(N,{variant:"bodyMd",as:"span",children:"Pattern design artistico Carnevale"}),a.jsx("div",{className:"grid grid-cols-8 mt-4 mb-4",style:{gap:`${s.spacing}px`},children:Array.from({length:8}).map((f,m)=>a.jsx(Te,{content:E(),children:a.jsx("div",{onMouseEnter:()=>y(m),onMouseLeave:()=>y(null),onClick:()=>_(m),style:{boxSizing:"border-box",cursor:"pointer",background:j(s.defaultColor,m),width:`${s.width}px`,height:`${s.height}px`,borderRadius:`${s.borderRadius}px`,border:"1px solid #736F6F"}})},`tooltip-${m}`))}),a.jsx(R,{fullWidth:!0,variant:"primary",children:"Add to cart"})]}),Y=()=>{n({animation:{hoverAnimation:c.hoverAnimation,outOfStock:c.outOfStock,strikeColor:c.strikeColor},appearance:{height:s.height,width:s.width,borderRadius:s.borderRadius,spacing:s.spacing,defaultColor:s.defaultColor,selectedColor:s.selectedColor,hoverColor:s.hoverColor}}),t()};return a.jsx(ne,{open:e,onClose:t,size:"large",title:"Title",primaryAction:{content:"Save",onAction:Y},secondaryActions:[{content:"Cancel",onAction:t}],children:a.jsx(ne.Section,{children:a.jsxs("div",{className:"grid gap-4 grid-cols-2",children:[a.jsx("div",{style:{flex:1,width:"100%"},children:k()}),a.jsx("div",{className:"customize-preview",style:{flex:1,width:"100%"},children:A()}),a.jsx("div",{style:{flex:1,width:"100%"},children:i()})]})})})},vt=({option:e,setOption:t,onSave:r,isSaving:n})=>{var k,b;const s=["product-page","collection-page","home-page"],o=()=>{e&&t({...e,isActive:!(e!=null&&e.isActive)})},c=pe(),u=()=>{c({to:be.KeepParameters("/")})},g=((k=J.find(l=>l.value===(e==null?void 0:e.template)))==null?void 0:k.options)??[],h=l=>{var i;t({...e,template:l,style:(i=g[0])==null?void 0:i.value})},x=l=>{t({...e,style:l})},y=(l,i)=>{e&&t({...e,position:i?[...e.position,l]:e.position.filter(p=>p!==l)})},[S,C]=v.useState(!1);return a.jsxs(Be,{primaryAction:{content:"Save",loading:n,disabled:n,onAction:r},backAction:{content:(e==null?void 0:e.name)||"Option",onAction:u},title:(e==null?void 0:e.name)||"Option",subtitle:`${((b=e==null?void 0:e.values)==null?void 0:b.length)??0} value`,children:[a.jsx(ht,{setOption:t,open:S,onClose:()=>C(!1),option:e}),!e&&a.jsx(De,{lines:8}),e&&a.jsxs(F,{gap:"400",children:[a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs(F,{gap:"200",children:[a.jsx(N,{variant:"headingMd",as:"h3",children:"Active widget to display your swatches"}),a.jsx(N,{variant:"bodyMd",as:"span",tone:"subdued",children:"Allow widget to display on the page you want"})]}),a.jsx("div",{className:"option-active",children:a.jsx(Ke,{title:"Active widget",action:{content:e.isActive?"Inactive":"Active",onAction:o},details:"Allow widget to display on the page you want"})})]}),a.jsx("div",{className:"mt-8 mb-8",children:a.jsx(se,{borderColor:"border"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(F,{gap:"200",children:[a.jsx(N,{variant:"headingMd",as:"h3",children:"Setting"}),a.jsx(N,{variant:"bodyMd",as:"span",tone:"subdued",children:"Setting layout, active template and choose page to display"})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-row gap-5 justify-between items-end option-setting-template",children:[a.jsx(q,{label:"Template",options:J.map(l=>({label:l.label,value:l.value})),value:e.template,onChange:h}),a.jsx(q,{label:"Style",options:g,value:e.style,onChange:x}),a.jsx(R,{size:"medium",onClick:()=>C(!0),children:"Customize"})]}),a.jsxs("div",{className:"flex flex-col gap-3.5",children:[a.jsx(N,{variant:"bodyMd",as:"span",tone:"subdued",children:"Position"}),a.jsx("div",{className:"flex flex-row gap-10",children:s.map(l=>a.jsx(He,{label:$e[l],checked:e.position.includes(l),onChange:i=>y(l,i)},l))})]})]})]}),a.jsx("div",{className:"mt-8 mb-8",children:a.jsx(se,{borderColor:"border"})}),a.jsx(ft,{option:e,setOption:t})]})]})},xt=function(){const{id:t}=Pe.useParams(),[r,n]=v.useState(void 0),{getOptionById:s,getOptionSettings:o,upsertOptionSetting:c,isOptionSettingsLoading:u}=Ve();v.useEffect(()=>{(async()=>{const C=async()=>{var l;const b=s(t);if(!b)return null;if(!(b!=null&&b.template)){const i=J[0];i&&(b.template=i.value,b.style=((l=i.options[0])==null?void 0:l.value)??"Color")}return n(b),b};await C()||(await o(),await C())})()},[t,s,o]);const g=S=>{r&&n({...r,...S})},h=pe(),x=We(),y=async()=>{if(!r)return;if((await c(r)).status){x.toast.show("Option saved successfully"),h({to:be.KeepParameters("/list-options")});return}x.toast.show("Failed to save option!",{isError:!0})};return a.jsx(vt,{option:r,setOption:g,onSave:y,isSaving:u})};export{xt as component};
